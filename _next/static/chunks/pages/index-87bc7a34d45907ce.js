(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(1641)}])},1641:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return S}});var s={};l.r(s);var a=l(5893),n=l(7294);l(1536),l(4715),l(9984),l(7017),l(5615),l(8793),l(4570),l(8042),l(2775),l(723),l(1712),l(8660),l(2054),l(4489),l(2514);var r=l(3349),i=l(7977),c=l(2547),d=l(5433),o=l(3034),m=l(348),x=l(4671),h=l(6008),g=l(905),u=l(2664),p=l(382),b=l(9387),f=l(2471),j=l(4391),N=l(6672),y=l(1382),w=l(2379),v=l(5618);function S(){let[e,t]=(0,n.useState)(""),[l,S]=(0,n.useState)([]),[k,C]=(0,n.useState)([]),[T,A]=(0,n.useState)("bar"),[Z,D]=(0,n.useState)(!1),[_,J]=(0,n.useState)(!1),[L,R]=(0,n.useState)(!1),[O,E]=(0,n.useState)({name:"",type:"number"}),[P,I]=(0,n.useState)(""),[F,z]=(0,n.useState)(!1),[M,U]=(0,n.useState)([]),[X,q]=(0,n.useState)(0),[G,K]=(0,n.useState)(""),[Y,B]=(0,n.useState)({}),[H,Q]=(0,n.useState)(!1),[V,W]=(0,n.useState)([]),[$,ee]=(0,n.useState)("home"),[et,el]=(0,n.useState)(null),es=(0,n.useRef)(null),ea=e=>{if(console.log("JSON処理を開始:",e),e&&""!==e.trim())try{let t=JSON.parse(e);console.log("JSON解析成功:",t);let l=[];t.format&&t.format.boxes&&t.format.boxes.forEach(e=>{e.name&&e.dataType&&l.push({id:e.fieldID||e.name.replace(/[^a-zA-Z0-9]/g,"_"),name:e.name,type:"string"===e.dataType?"string":"number"})}),console.log("抽出された項目:",l)}catch(e){console.error("JSON解析エラー:",e)}},en=e=>{S(t=>t.filter(t=>t.id!==e)),C(t=>t.filter(t=>t!==e))},er=e=>{C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},ei=e=>{console.log("テンプレート適用:",e)},ec=async()=>new Promise(e=>{let t=document.querySelector(".recharts-wrapper svg");if(!t){let t=document.createElement("canvas"),l=t.getContext("2d");t.width=400,t.height=300,l.fillStyle="white",l.fillRect(0,0,t.width,t.height),l.fillStyle="#1f2937",l.font="bold 16px Arial",l.textAlign="center";let s={bar:"棒グラフ",line:"折れ線グラフ",pie:"円グラフ",composed:"複合グラフ",table:"表"}[T]||"グラフ";l.fillText(s,t.width/2,t.height/2),l.font="12px Arial",l.fillStyle="#6b7280",l.fillText(new Date().toLocaleString("ja-JP"),t.width/2,t.height/2+30),e(t.toDataURL());return}let l=new XMLSerializer().serializeToString(t),s=document.createElement("canvas"),a=s.getContext("2d");s.width=400,s.height=300;let n=new Image;n.onload=function(){a.fillStyle="white",a.fillRect(0,0,s.width,s.height);let t=Math.min(s.width/n.width,s.height/n.height),l=(s.width-n.width*t)/2,r=(s.height-n.height*t)/2;a.drawImage(n,l,r,n.width*t,n.height*t),e(s.toDataURL())},n.onerror=function(){a.fillStyle="white",a.fillRect(0,0,s.width,s.height),a.fillStyle="#1f2937",a.font="bold 16px Arial",a.textAlign="center",a.fillText("グラフ画像",s.width/2,s.height/2),e(s.toDataURL())},n.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(l)))}),ed=async()=>{if(!G.trim()){alert("プロジェクト名を入力してください");return}let e=prompt("パターン名を入力してください","パターン"+(M.length+1));if(e){let t=await ec(),l=[...M,{id:Date.now().toString(),name:e,selectedFields:[...k],chartType:T,memo:P,alertSettings:{...Y},timestamp:new Date().toLocaleString("ja-JP"),chartImage:t}];U(l),eo(l)}},eo=t=>{let s={id:G.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase(),name:G,jsonData:e,extractedFields:l,patterns:t,savedAt:new Date().toLocaleString("ja-JP"),lastModified:new Date().toLocaleString("ja-JP")};W(e=>{let t=e.findIndex(e=>e.id===s.id);if(!(t>=0))return[...e,s];{let l=[...e];return l[t]=s,l}})},em=e=>{e.chartImage?window.open("","_blank").document.write("\n        <html>\n          <head><title>".concat(e.name,' - 拡大プレビュー</title></head>\n          <body style="margin: 0; padding: 20px; text-align: center; background: #f9fafb;">\n            <h2>').concat(e.name,"</h2>\n            <p>作成日時: ").concat(e.timestamp,'</p>\n            <img src="').concat(e.chartImage,'" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px;"/>\n          </body>\n        </html>\n      ')):alert("チャート画像が保存されていません")},ex=(e,t)=>{let l=document.createElement("canvas"),s=l.getContext("2d");l.width=800,l.height=600,s.fillStyle="white",s.fillRect(0,0,l.width,l.height),s.fillStyle="#1f2937",s.font="bold 24px Arial",s.textAlign="center",s.fillText("".concat(e," - ").concat(t.name),l.width/2,50),s.font="16px Arial",s.fillText("作成日時: ".concat(t.timestamp),l.width/2,80),s.fillText("グラフタイプ: ".concat(t.chartType),l.width/2,110);let a=document.createElement("a");a.download="".concat(e,"_").concat(t.name,"_").concat(new Date().toLocaleDateString("ja-JP"),".png"),a.href=l.toDataURL(),a.click()},eh=(e,t,l)=>{B(s=>({...s,[e]:{min:parseFloat(t)||null,max:parseFloat(l)||null}}))},eg=async()=>{z(!0);try{let e=document.createElement("canvas"),t=e.getContext("2d");e.width=1200,e.height=1600,t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.fillStyle="#1f2937",t.font="bold 24px Arial",t.textAlign="center";let s={bar:"棒グラフ",line:"折れ線グラフ",pie:"円グラフ",composed:"複合グラフ",table:"表"}[T];t.fillText("データ可視化 - "+s,e.width/2,40),G&&(t.font="16px Arial",t.fillStyle="#6b7280",t.fillText("プロジェクト: "+G,e.width/2,70)),t.font="16px Arial",t.textAlign="left",t.fillStyle="#1f2937",t.fillText("選択項目:",50,100);let a=120;k.forEach(e=>{let s=l.find(t=>t.id===e);s&&(t.fillText("• "+s.name+" ("+s.type+")",70,a),a+=25)});let n=a+20;t.strokeStyle="#e5e7eb",t.strokeRect(50,n,e.width-100,400),t.fillStyle="#f3f4f6",t.fillRect(51,n+1,e.width-102,398),t.fillStyle="#6b7280",t.font="18px Arial",t.textAlign="center",t.fillText("チャートエリア",e.width/2,n+200),t.fillText("("+s+")",e.width/2,n+200+30);let r=n+400+40;t.fillStyle="#1f2937",t.font="bold 18px Arial",t.textAlign="left",t.fillText("メモ・要望:",50,r),t.strokeStyle="#d1d5db",t.strokeRect(50,r+10,e.width-100,200),t.fillStyle="#f9fafb",t.fillRect(51,r+11,e.width-102,198),t.fillStyle="#374151",t.font="14px Arial";let i=P.split("\n"),c=r+35;i.forEach(e=>{t.fillText(e,70,c),c+=20}),t.fillStyle="#6b7280",t.font="12px Arial",t.textAlign="center";let d=new Date,o=d.toLocaleDateString("ja-JP")+" "+d.toLocaleTimeString("ja-JP");t.fillText("作成日時: "+o,e.width/2,e.height-20);let m=document.createElement("a"),x=(G?G+"_":"")+"データ可視化_"+s+"_"+d.getFullYear()+String(d.getMonth()+1).padStart(2,"0")+String(d.getDate()).padStart(2,"0")+".png";m.download=x,m.href=e.toDataURL(),m.click()}catch(e){console.error("エクスポートエラー:",e),alert("エクスポートに失敗しました")}z(!1)};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6 text-gray-900",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("header",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"帳票データ可視化アプリケーション"}),(0,a.jsx)("p",{className:"text-gray-900",children:"JSONデータから自動で項目を抽出し、お客様とのすり合わせ用グラフ・表を生成"}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,a.jsxs)("button",{onClick:()=>ee("home"),className:"nav-button ".concat("home"===$?"active":""),children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 mr-2"}),"ホーム"]}),(0,a.jsxs)("button",{onClick:()=>ee("history"),className:"nav-button ".concat("history"===$?"active":""),children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-2"}),"プロジェクト履歴"]})]})]}),"home"===$?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"project-header",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,a.jsx)(d.Z,{className:"mr-2"}),(0,a.jsx)("span",{className:"text-gray-900",children:"プロジェクト管理"})]}),(0,a.jsxs)("button",{onClick:()=>{if((k.length>0||P.trim()||Object.keys(Y).length>0)&&G.trim()){if(!window.confirm("現在の作業内容をプロジェクト「".concat(G,"」に保存してからリセットしますか？\n\n")+"「OK」: 保存してリセット\n「キャンセル」: リセットせずに作業を続ける"))return;if(k.length>0){let e="作業中パターン_"+new Date().toLocaleTimeString("ja-JP");eo([...M,{id:Date.now().toString(),name:e,selectedFields:[...k],chartType:T,memo:P,alertSettings:{...Y},timestamp:new Date().toLocaleString("ja-JP"),exportedImage:null}])}else M.length>0&&eo(M)}K(""),t(""),S([]),C([]),U([]),A("bar"),I(""),B({}),D(!1),R(!1),Q(!1),J(!1),alert("新しいプロジェクトを開始できます")},className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"新しいプロジェクトを開始"]})]}),(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("input",{type:"text",value:G,onChange:e=>K(e.target.value),placeholder:"プロジェクト名を入力（例: A社_品質改善_2024）",className:"flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),M.length>0&&(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:["保存済みパターン: ",M.length,"個"]})]})]}),(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 json-file-section",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center justify-center",children:[(0,a.jsx)(m.Z,{className:"mr-2"}),"JSONデータ取り込み"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>{var e;return null===(e=es.current)||void 0===e?void 0:e.click()},className:"file-input-label w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 mr-2"}),"JSONファイルを選択"]}),(0,a.jsx)("div",{className:"text-center text-gray-800 text-sm",children:"または"}),(0,a.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),className:"w-full h-40 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"JSONデータを直接入力してください..."}),(0,a.jsx)("button",{onClick:()=>{e.trim()&&ea(e)},className:"mt-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"JSONを解析"})]}),(0,a.jsx)("input",{ref:es,type:"file",accept:".json",onChange:e=>{let l=e.target.files[0];if(l){let e=new FileReader;e.onload=e=>{t(e.target.result)},e.readAsText(l)}},className:"hidden"})]})}),l.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,a.jsx)(h.Z,{className:"mr-2"}),"提案テンプレート"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries({quality:{name:"品質管理ダッシュボード",description:"不良率、品質スコア、検査結果の分析",preferredFields:["不良","品質","検査","良品","スコア","判定"],chartType:"composed",memo:"品質管理の可視化により、不良品の早期発見と品質向上を実現できます。\n• 不良率の推移監視\n• 品質基準値との比較\n• 検査結果のトレンド分析"},production:{name:"生産効率分析",description:"生産数、稼働率、作業時間の最適化",preferredFields:["生産","稼働","作業時間","効率","数量","SPM"],chartType:"bar",memo:"生産効率の見える化により、ボトルネックの特定と改善が可能です。\n• 生産数の日次推移\n• 設備稼働率の監視\n• 作業時間の最適化"},maintenance:{name:"設備保全レポート",description:"温度、振動、稼働時間の監視",preferredFields:["温度","湿度","ショット","累計","稼働","点検"],chartType:"line",memo:"予防保全により設備の長寿命化とダウンタイム削減を実現します。\n• 設備状態の常時監視\n• 保全タイミングの最適化\n• 異常予兆の早期検知"}}).map(e=>{let[t,l]=e;return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2",children:l.name}),(0,a.jsx)("p",{className:"text-gray-900 text-sm mb-3",children:l.description}),(0,a.jsx)("button",{onClick:()=>ei(t),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"このテンプレートを適用"})]},t)})})]}),(l.length>0||_)&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,a.jsx)(g.Z,{className:"mr-2"}),"抽出された項目",_&&(0,a.jsx)("span",{className:"ml-2 text-blue-600",children:"解析中..."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>R(!L),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"項目追加"]}),(0,a.jsxs)("button",{onClick:()=>Q(!H),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"異常値設定"]})]})]}),L&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"項目名"}),(0,a.jsx)("input",{type:"text",value:O.name,onChange:e=>E({...O,name:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"例: 作業効率, 検査回数"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"データ型"}),(0,a.jsxs)("select",{value:O.type,onChange:e=>E({...O,type:e.target.value}),className:"p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"number",children:"数値"}),(0,a.jsx)("option",{value:"string",children:"文字列"}),(0,a.jsx)("option",{value:"date",children:"日付"})]})]}),(0,a.jsx)("button",{onClick:()=>{if(O.name.trim()){let e={id:O.name.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase(),name:O.name,type:O.type};S(t=>[...t,e]),E({name:"",type:"number"}),R(!1)}},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"追加"})]})}),H&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-orange-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"異常値検知設定"}),(0,a.jsx)("div",{className:"space-y-3",children:l.filter(e=>"number"===e.type).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"w-32 text-sm font-medium",children:[e.name,":"]}),(0,a.jsx)("input",{type:"number",placeholder:"下限値",className:"w-20 p-1 border border-gray-300 rounded text-sm",onChange:t=>{var l;return eh(e.id,t.target.value,null===(l=Y[e.id])||void 0===l?void 0:l.max)}}),(0,a.jsx)("span",{className:"text-gray-800",children:"〜"}),(0,a.jsx)("input",{type:"number",placeholder:"上限値",className:"w-20 p-1 border border-gray-300 rounded text-sm",onChange:t=>{var l;return eh(e.id,null===(l=Y[e.id])||void 0===l?void 0:l.min,t.target.value)}})]},e.id))}),(0,a.jsx)("div",{className:"mt-3 p-2 bg-blue-100 rounded",children:(0,a.jsx)("p",{className:"text-sm text-blue-800",children:"\uD83D\uDCA1 ヒント: 異常値の参照線がグラフに表示されます"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:l.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[(0,a.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>er(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-800 bg-gray-100 px-2 py-1 rounded",children:e.type}),Y[e.id]&&(0,a.jsx)(r.Z,{className:"inline h-3 w-3 ml-1 text-orange-500"})]})]}),(0,a.jsx)("button",{onClick:()=>en(e.id),className:"ml-2 text-red-500 hover:text-red-700 transition-colors",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]},e.id))}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"可視化タイプ選択"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{type:"bar",icon:f.Z,name:"棒グラフ"},{type:"line",icon:j.Z,name:"折れ線グラフ"},{type:"pie",icon:N.Z,name:"円グラフ"},{type:"composed",icon:f.Z,name:"複合グラフ"},{type:"table",icon:s.Grid3X3,name:"表"}].map(e=>{let{type:t,icon:l,name:s}=e;return(0,a.jsxs)("button",{onClick:()=>A(t),className:"p-3 rounded-lg border-2 transition-all "+(T===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,a.jsx)(l,{className:"h-6 w-6 mx-auto mb-1"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s})]},t)})})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("h3",{className:"font-medium mb-3 flex items-center",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"お客様からの要望・メモ"]}),(0,a.jsx)("textarea",{value:P,onChange:e=>I(e.target.value),className:"w-full h-32 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"お客様からの要望や気づいた点をメモしてください..."}),(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-2",children:"このメモも一緒に画像として出力されます"})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>D(!0),disabled:0===k.length,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"プレビュー生成"})]}),(0,a.jsxs)("button",{onClick:ed,disabled:0===k.length,className:"flex items-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"パターン保存"})]})]})]}),Z&&k.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["プレビュー - ",{bar:"棒グラフ",line:"折れ線グラフ",pie:"円グラフ",composed:"複合グラフ",table:"表"}[T]]}),(0,a.jsxs)("button",{onClick:eg,disabled:F,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-gray-400 transition-colors",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:F?"エクスポート中...":"メモ付きエクスポート"})]})]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsx)("div",{className:"p-8 text-center",children:"チャート機能は準備中です"})}),(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"選択中の項目:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map(e=>{let t=l.find(t=>t.id===e),s=Y[e];return(0,a.jsxs)("span",{className:s?"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm":"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[null==t?void 0:t.name,s&&(0,a.jsx)(r.Z,{className:"inline h-3 w-3 ml-1"})]},e)})}),Object.keys(Y).length>0&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-orange-100 rounded",children:(0,a.jsxs)("p",{className:"text-sm text-orange-800",children:[(0,a.jsx)(r.Z,{className:"inline h-4 w-4 mr-1"}),"異常値監視が有効です。設定された閾値を超えた値は赤色で表示されます。"]})})]})]})]}):(0,a.jsx)("div",{className:"space-y-6",children:0===V.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"保存されたプロジェクトはありません"}),(0,a.jsx)("p",{className:"text-gray-800",children:"ホーム画面でプロジェクトを作成してパターンを保存してください"})]}):(0,a.jsx)("div",{className:"grid gap-6",children:V.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-800 text-sm",children:["作成: ",e.savedAt," | 最終更新: ",e.lastModified]}),(0,a.jsxs)("p",{className:"text-gray-900 text-sm mt-1",children:["パターン数: ",e.patterns.length,"個"]})]})}),e.patterns.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"保存されたパターン:"}),(0,a.jsx)("div",{className:"grid gap-3",children:e.patterns.map(t=>(0,a.jsxs)("div",{className:"flex gap-4 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:t.chartImage?(0,a.jsx)("img",{src:t.chartImage,alt:"".concat(t.name,"のグラフ"),className:"w-24 h-20 object-cover border border-gray-300 rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>em(t),title:"クリックで拡大表示"}):(0,a.jsx)("div",{className:"w-24 h-20 bg-gray-200 border border-gray-300 rounded flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs text-gray-500 text-center",children:"画像なし"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-800",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["bar"===t.chartType?"棒グラフ":"line"===t.chartType?"折れ線グラフ":"pie"===t.chartType?"円グラフ":"composed"===t.chartType?"複合グラフ":"表"," | ",t.timestamp]}),t.memo&&(0,a.jsxs)("p",{className:"text-sm text-gray-800 mt-1 line-clamp-2",children:["メモ: ",t.memo]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("button",{onClick:()=>em(t),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",title:"拡大表示",children:"拡大"}),(0,a.jsx)("button",{onClick:()=>ex(e.name,t),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors",children:"DL"})]})]},t.id))})]})]},e.id))})})]})})}}},function(e){e.O(0,[119,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);